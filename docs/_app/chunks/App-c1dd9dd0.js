var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&n(e,a,t[a]);if(s)for(var a of s(t))r.call(t,a)&&n(e,a,t[a]);return e},c=(e,s)=>t(e,a(s));import{S as i,i as h,s as u,e as f,t as d,k as p,c as m,a as v,g,d as $,n as E,b as w,f as b,D as I,E as y,h as x,I as j,J as P,K as k,l as A,B as D,r as T,u as N,v as _,z as S,L as O,M as L,j as V,m as M,o as C,N as H,w as q,O as R,P as U,Q as F,A as z,p as G,q as W}from"./vendor-b67f10d3.js";import{c as Y}from"./doc-71c9573f.js";import{_ as B}from"./preload-helper-9f12a5fd.js";import{w as K}from"./wordmark-0849a013.js";function J(e){let t,a,s,l,r,n,o,c,i,h,u,x,j,P,k=Y.hed+"",A=Y.dek+"",D=Y.details+"";return{c(){t=f("section"),a=f("div"),s=f("h1"),l=d(k),r=p(),n=f("p"),o=d(A),c=p(),i=f("details"),h=f("summary"),u=f("span"),x=d("New here? Learn About the experiment"),j=p(),P=f("span"),this.h()},l(e){t=m(e,"SECTION",{class:!0});var f=v(t);a=m(f,"DIV",{class:!0});var d=v(a);s=m(d,"H1",{class:!0});var p=v(s);l=g(p,k),p.forEach($),r=E(d),n=m(d,"P",{});var w=v(n);o=g(w,A),w.forEach($),c=E(d),i=m(d,"DETAILS",{});var b=v(i);h=m(b,"SUMMARY",{});var I=v(h);u=m(I,"SPAN",{});var y=v(u);x=g(y,"New here? Learn About the experiment"),y.forEach($),I.forEach($),j=E(b),P=m(b,"SPAN",{}),v(P).forEach($),b.forEach($),d.forEach($),f.forEach($),this.h()},h(){w(s,"class","svelte-j43njh"),w(a,"class","col"),w(t,"class","svelte-j43njh")},m(e,f){b(e,t,f),I(t,a),I(a,s),I(s,l),I(a,r),I(a,n),I(n,o),I(a,c),I(a,i),I(i,h),I(h,u),I(u,x),I(i,j),I(i,P),P.innerHTML=D},p:y,i:y,o:y,d(e){e&&$(t)}}}class Q extends i{constructor(e){super(),h(this,e,null,J,u,{})}}function X(e,t,a){const s=e.slice();return s[12]=t[a],s}function Z(e){let t,a;return{c(){t=f("div"),a=d(e[1]),this.h()},l(s){t=m(s,"DIV",{class:!0,id:!0});var l=v(t);a=g(l,e[1]),l.forEach($),this.h()},h(){w(t,"class","legend svelte-1iaxjqr"),w(t,"id","label-"+e[6])},m(e,s){b(e,t,s),I(t,a)},p(e,t){2&t&&x(a,e[1])},d(e){e&&$(t)}}}function ee(e){let t,a,s,l,r,n,o,c,i,h,u,y,P,k=(e[12].label||e[12].value)+"";return{c(){t=f("div"),a=f("input"),r=p(),n=f("label"),o=d(k),u=p(),this.h()},l(e){t=m(e,"DIV",{class:!0});var s=v(t);a=m(s,"INPUT",{type:!0,id:!0,name:!0,class:!0,value:!0,disabled:!0}),r=E(s),n=m(s,"LABEL",{class:!0,for:!0,"data-emoji":!0});var l=v(n);o=g(l,k),l.forEach($),u=E(s),s.forEach($),this.h()},h(){w(a,"type","radio"),w(a,"id",s=`${e[6]}-${e[12].slug}`),w(a,"name","name-"+e[6]),w(a,"class","sr-only svelte-1iaxjqr"),a.__value=l=e[12].value,a.value=a.__value,a.disabled=e[3],e[10][0].push(a),w(n,"class",c="sm option "+e[2]+" svelte-1iaxjqr"),w(n,"for",i=`${e[6]}-${e[12].slug}`),w(n,"data-emoji",h=e[12].emoji),w(t,"class","option svelte-1iaxjqr")},m(s,l){b(s,t,l),I(t,a),a.checked=a.__value===e[0],I(t,r),I(t,n),I(n,o),I(t,u),y||(P=j(a,"change",e[9]),y=!0)},p(e,t){16&t&&s!==(s=`${e[6]}-${e[12].slug}`)&&w(a,"id",s),16&t&&l!==(l=e[12].value)&&(a.__value=l,a.value=a.__value),8&t&&(a.disabled=e[3]),1&t&&(a.checked=a.__value===e[0]),16&t&&k!==(k=(e[12].label||e[12].value)+"")&&x(o,k),4&t&&c!==(c="sm option "+e[2]+" svelte-1iaxjqr")&&w(n,"class",c),16&t&&i!==(i=`${e[6]}-${e[12].slug}`)&&w(n,"for",i),16&t&&h!==(h=e[12].emoji)&&w(n,"data-emoji",h)},d(s){s&&$(t),e[10][0].splice(e[10][0].indexOf(a),1),y=!1,P()}}}function te(e){let t,a,s,l,r=e[1]&&Z(e),n=e[4],o=[];for(let c=0;c<n.length;c+=1)o[c]=ee(X(e,n,c));return{c(){t=f("div"),a=f("div"),r&&r.c(),s=p(),l=f("div");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=m(e,"DIV",{class:!0});var n=v(t);a=m(n,"DIV",{id:!0,class:!0,role:!0,"aria-labelledby":!0});var c=v(a);r&&r.l(c),s=E(c),l=m(c,"DIV",{class:!0});var i=v(l);for(let t=0;t<o.length;t+=1)o[t].l(i);i.forEach($),c.forEach($),n.forEach($),this.h()},h(){w(l,"class","options svelte-1iaxjqr"),w(a,"id",`group-${e[6]}`),w(a,"class","group svelte-1iaxjqr"),w(a,"role","radiogroup"),w(a,"aria-labelledby",`label-${e[6]}`),P(a,"is-top",e[5]),w(t,"class","button-set svelte-1iaxjqr")},m(e,n){b(e,t,n),I(t,a),r&&r.m(a,null),I(a,s),I(a,l);for(let t=0;t<o.length;t+=1)o[t].m(l,null)},p(e,[t]){if(e[1]?r?r.p(e,t):(r=Z(e),r.c(),r.m(a,s)):r&&(r.d(1),r=null),93&t){let a;for(n=e[4],a=0;a<n.length;a+=1){const s=X(e,n,a);o[a]?o[a].p(s,t):(o[a]=ee(s),o[a].c(),o[a].m(l,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=n.length}32&t&&P(a,"is-top",e[5])},i:y,o:y,d(e){e&&$(t),r&&r.d(),k(o,e)}}}function ae(e,t,a){let s,l,{options:r=[]}=t,{legend:n=""}=t,{legendPosition:i="top"}=t,{labelClass:h=""}=t,{disabled:u=!1}=t,{value:f=""}=t;const d=`legend-${Math.floor(1e6*Math.random())}`,p=(e="")=>`${e}`.toLowerCase().replace(/\W/g,"");return e.$$set=e=>{"options"in e&&a(7,r=e.options),"legend"in e&&a(1,n=e.legend),"legendPosition"in e&&a(8,i=e.legendPosition),"labelClass"in e&&a(2,h=e.labelClass),"disabled"in e&&a(3,u=e.disabled),"value"in e&&a(0,f=e.value)},e.$$.update=()=>{128&e.$$.dirty&&a(4,s=r.map((e=>c(o({},e),{val:e.value,slug:p(e.value)})))),256&e.$$.dirty&&a(5,l="top"===i)},[f,n,h,u,s,l,d,r,i,function(){f=this.__value,a(0,f)},[[]]]}class se extends i{constructor(e){super(),h(this,e,ae,te,u,{options:7,legend:1,legendPosition:8,labelClass:2,disabled:3,value:0})}}function le(e){let t,a,s,l;return{c(){t=f("div"),a=f("p"),s=d("Thanks for voting!")},l(e){t=m(e,"DIV",{});var l=v(t);a=m(l,"P",{});var r=v(a);s=g(r,"Thanks for voting!"),r.forEach($),l.forEach($)},m(e,l){b(e,t,l),I(t,a),I(a,s)},p:y,i(e){l||O((()=>{l=L(t,F,{}),l.start()}))},o:y,d(e){e&&$(t)}}}function re(e){let t,a,s,l,r,n,o,c,i,h,j=e[1]+1+"",P=e[2].length+"",k=e[1],S=ne(e);return{c(){t=f("p"),a=d(j),s=d(" of "),l=d(P),r=p(),n=f("p"),o=d("Is this A.I.-generated caption funny?"),c=p(),S.c(),i=A(),this.h()},l(e){t=m(e,"P",{class:!0});var h=v(t);a=g(h,j),s=g(h," of "),l=g(h,P),h.forEach($),r=E(e),n=m(e,"P",{class:!0});var u=v(n);o=g(u,"Is this A.I.-generated caption funny?"),u.forEach($),c=E(e),S.l(e),i=A(),this.h()},h(){w(t,"class","counter sm svelte-mpmag"),w(n,"class","prompt sm svelte-mpmag")},m(e,u){b(e,t,u),I(t,a),I(t,s),I(t,l),b(e,r,u),b(e,n,u),I(n,o),b(e,c,u),S.m(e,u),b(e,i,u),h=!0},p(e,t){(!h||2&t)&&j!==(j=e[1]+1+"")&&x(a,j),2&t&&u(k,k=e[1])?(D(),T(S,1,1,y),N(),S=ne(e),S.c(),_(S),S.m(i.parentNode,i)):S.p(e,t)},i(e){h||(_(S),h=!0)},o(e){T(S),h=!1},d(e){e&&$(t),e&&$(r),e&&$(n),e&&$(c),e&&$(i),S.d(e)}}}function ne(e){let t,a,s,l,r,n,o,c,i,h=e[2][e[1]].text+"";function u(t){e[5](t)}let y={options:[{value:0,label:"It stinks!",emoji:"ðŸ˜´"},{value:1,label:"Sort of...",emoji:"ðŸ˜"},{value:2,label:"It works!",emoji:"ðŸ˜‚"}]};return void 0!==e[0]&&(y.value=e[0]),n=new se({props:y}),R.push((()=>U(n,"value",u))),{c(){t=f("div"),a=f("p"),s=d(h),l=p(),r=f("div"),V(n.$$.fragment),this.h()},l(e){t=m(e,"DIV",{});var o=v(t);a=m(o,"P",{class:!0});var c=v(a);s=g(c,h),c.forEach($),l=E(o),r=m(o,"DIV",{class:!0});var i=v(r);M(n.$$.fragment,i),i.forEach($),o.forEach($),this.h()},h(){w(a,"class","caption svelte-mpmag"),w(r,"class","vote svelte-mpmag")},m(e,o){b(e,t,o),I(t,a),I(a,s),I(t,l),I(t,r),C(n,r,null),i=!0},p(e,t){(!i||2&t)&&h!==(h=e[2][e[1]].text+"")&&x(s,h);const a={};!o&&1&t&&(o=!0,a.value=e[0],H((()=>o=!1))),n.$set(a)},i(e){i||(_(n.$$.fragment,e),c||O((()=>{c=L(t,F,{}),c.start()})),i=!0)},o(e){T(n.$$.fragment,e),i=!1},d(e){e&&$(t),q(n)}}}function oe(e){let t,a,s,l;const r=[re,le],n=[];function o(e,t){return e[1]<e[2].length?0:1}return t=o(e),a=n[t]=r[t](e),{c(){a.c(),s=A()},l(e){a.l(e),s=A()},m(e,a){n[t].m(e,a),b(e,s,a),l=!0},p(e,[l]){let c=t;t=o(e),t===c?n[t].p(e,l):(D(),T(n[c],1,1,(()=>{n[c]=null})),N(),a=n[t],a?a.p(e,l):(a=n[t]=r[t](e),a.c()),_(a,1),a.m(s.parentNode,s))},i(e){l||(_(a),l=!0)},o(e){T(a),l=!1},d(e){n[t].d(e),e&&$(s)}}}function ce(e,t,a){let s,{slug:l}=t,{data:r}=t,n=["unfunny","neutral","funny"],o=0;const c=r.map(((e,t)=>({text:e,id:t}))),i={apiKey:"AIzaSyBGOC8CbEAvm6WUSKfvj4_VPFa4zUuYy6k",authDomain:"new-yorker-da6db.firebaseapp.com",projectId:"new-yorker-da6db"};let h,u,f;return S((async()=>{const e=await B((()=>import("./index.esm-558ce47f.js")),["/projects/caption-contest/_app/chunks/index.esm-558ce47f.js","/projects/caption-contest/_app/chunks/index.esm-5ad0a3d2.js"]);h=e.default,await B((()=>import("./index.esm-f9bc68b8.js")),["/projects/caption-contest/_app/chunks/index.esm-f9bc68b8.js","/projects/caption-contest/_app/chunks/index.esm-5ad0a3d2.js"]),h.apps.length||(u=h.initializeApp(i),f=h.firestore(u))})),e.$$set=e=>{"slug"in e&&a(3,l=e.slug),"data"in e&&a(4,r=e.data)},e.$$.update=()=>{1&e.$$.dirty&&"number"==typeof s&&(()=>{const{id:e}=c[o],t=f.collection(l).doc(`${e}`),r=n[s];t.update({[[r]]:h.firestore.FieldValue.increment(1)}),a(0,s=void 0),a(1,o+=1)})()},function(e){let t=0,a=e.length-(t=+t);for(;a;){const s=Math.random()*a--|0,l=e[a+t];e[a+t]=e[s+t],e[s+t]=l}}(c),[s,o,c,l,r,function(e){s=e,a(0,s)}]}class ie extends i{constructor(e){super(),h(this,e,ce,oe,u,{slug:3,data:4})}}function he(e){let t,a;return t=new ie({props:{slug:e[0],data:e[6]}}),{c(){V(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,s){C(t,e,s),a=!0},p(e,a){const s={};1&a&&(s.slug=e[0]),64&a&&(s.data=e[6]),t.$set(s)},i(e){a||(_(t.$$.fragment,e),a=!0)},o(e){T(t.$$.fragment,e),a=!1},d(e){q(t,e)}}}function ue(e){let t,a,s,l,r,n,o,c,i,h,u,y,j,P,k,A,S,O,L,V,M,C,H,q,R,U,F,z,G,W,Y,B,K,J,Q,X,Z,ee,te,ae="IsThisFunny"===e[5]&&he(e);return{c(){t=f("section"),a=f("div"),s=f("div"),l=f("p"),r=p(),n=f("p"),o=p(),c=f("details"),i=f("summary"),h=f("span"),u=d("For the tech-nerds, here is how it works."),y=p(),j=f("span"),P=d("test"),k=p(),A=f("div"),S=f("h2"),O=d("Help the computer submit its best caption to this weekâ€™s contest."),L=p(),V=f("figure"),M=f("figcaption"),C=d("Here is the cartoon for "),H=f("a"),q=d("#"),R=d(e[0]),U=d(" -\n          "),F=d(e[1]),z=p(),G=f("img"),Y=p(),ae&&ae.c(),B=p(),K=f("div"),J=f("p"),Q=d("Weâ€™ll submit the funniest caption. Your votes will also inform next weekâ€™s approach to\n        generating captions; our version of a comedian testing out new material in comedy clubs."),X=p(),Z=f("p"),ee=d("Come back next week to vote on captions for a new cartoon and see how our approach evolves."),this.h()},l(f){t=m(f,"SECTION",{class:!0});var d=v(t);a=m(d,"DIV",{class:!0});var p=v(a);s=m(p,"DIV",{class:!0});var w=v(s);l=m(w,"P",{}),v(l).forEach($),r=E(w),n=m(w,"P",{class:!0}),v(n).forEach($),o=E(w),c=m(w,"DETAILS",{class:!0});var b=v(c);i=m(b,"SUMMARY",{});var I=v(i);h=m(I,"SPAN",{});var x=v(h);u=g(x,"For the tech-nerds, here is how it works."),x.forEach($),I.forEach($),y=E(b),j=m(b,"SPAN",{});var D=v(j);P=g(D,"test"),D.forEach($),b.forEach($),w.forEach($),k=E(p),A=m(p,"DIV",{class:!0});var T=v(A);S=m(T,"H2",{});var N=v(S);O=g(N,"Help the computer submit its best caption to this weekâ€™s contest."),N.forEach($),L=E(T),V=m(T,"FIGURE",{});var _=v(V);M=m(_,"FIGCAPTION",{class:!0});var W=v(M);C=g(W,"Here is the cartoon for "),H=m(W,"A",{href:!0});var te=v(H);q=g(te,"#"),R=g(te,e[0]),te.forEach($),U=g(W," -\n          "),F=g(W,e[1]),W.forEach($),z=E(_),G=m(_,"IMG",{src:!0,alt:!0}),_.forEach($),Y=E(T),ae&&ae.l(T),T.forEach($),B=E(p),K=m(p,"DIV",{class:!0});var se=v(K);J=m(se,"P",{});var le=v(J);Q=g(le,"Weâ€™ll submit the funniest caption. Your votes will also inform next weekâ€™s approach to\n        generating captions; our version of a comedian testing out new material in comedy clubs."),le.forEach($),X=E(se),Z=m(se,"P",{});var re=v(Z);ee=g(re,"Come back next week to vote on captions for a new cartoon and see how our approach evolves."),re.forEach($),se.forEach($),p.forEach($),d.forEach($),this.h()},h(){w(n,"class","sm"),w(c,"class","sm"),w(s,"class","info"),w(H,"href","https://www.newyorker.com/cartoons/contest"),w(M,"class","sm svelte-1istlks"),G.src!==(W=e[4])&&w(G,"src",W),w(G,"alt","captionless cartoon"),w(A,"class","prompt svelte-1istlks"),w(K,"class","submit sm"),w(a,"class","col"),w(t,"class","svelte-1istlks")},m(f,d){b(f,t,d),I(t,a),I(a,s),I(s,l),l.innerHTML=e[2],I(s,r),I(s,n),n.innerHTML=e[3],I(s,o),I(s,c),I(c,i),I(i,h),I(h,u),I(c,y),I(c,j),I(j,P),I(a,k),I(a,A),I(A,S),I(S,O),I(A,L),I(A,V),I(V,M),I(M,C),I(M,H),I(H,q),I(H,R),I(M,U),I(M,F),I(V,z),I(V,G),I(A,Y),ae&&ae.m(A,null),I(a,B),I(a,K),I(K,J),I(J,Q),I(K,X),I(K,Z),I(Z,ee),te=!0},p(e,[t]){(!te||4&t)&&(l.innerHTML=e[2]),(!te||8&t)&&(n.innerHTML=e[3]),(!te||1&t)&&x(R,e[0]),(!te||2&t)&&x(F,e[1]),(!te||16&t&&G.src!==(W=e[4]))&&w(G,"src",W),"IsThisFunny"===e[5]?ae?(ae.p(e,t),32&t&&_(ae,1)):(ae=he(e),ae.c(),_(ae,1),ae.m(A,null)):ae&&(D(),T(ae,1,1,(()=>{ae=null})),N())},i(e){te||(_(ae),te=!0)},o(e){T(ae),te=!1},d(e){e&&$(t),ae&&ae.d()}}}function fe(e,t,a){let{slug:s}=t,{date:l}=t,{hed:r}=t,{dek:n}=t,{image:o}=t,{attempt:c}=t,{widgetName:i}=t,{widgetData:h}=t;return e.$$set=e=>{"slug"in e&&a(0,s=e.slug),"date"in e&&a(1,l=e.date),"hed"in e&&a(2,r=e.hed),"dek"in e&&a(3,n=e.dek),"image"in e&&a(4,o=e.image),"attempt"in e&&a(7,c=e.attempt),"widgetName"in e&&a(5,i=e.widgetName),"widgetData"in e&&a(6,h=e.widgetData)},[s,l,r,n,o,i,h,c]}class de extends i{constructor(e){super(),h(this,e,fe,ue,u,{slug:0,date:1,hed:2,dek:3,image:4,attempt:7,widgetName:5,widgetData:6})}}function pe(e,t,a){const s=e.slice();return s[1]=t[a].slug,s[2]=t[a].title,s}function me(e){let t,a,s,l,r,n,o=e[0],c=[];for(let i=0;i<o.length;i+=1)c[i]=ve(pe(e,o,i));return{c(){t=f("div"),a=f("div"),s=f("p"),l=d("Each week we try a new attempt!"),r=p(),n=f("ul");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){t=m(e,"DIV",{id:!0});var o=v(t);a=m(o,"DIV",{class:!0});var i=v(a);s=m(i,"P",{});var h=v(s);l=g(h,"Each week we try a new attempt!"),h.forEach($),r=E(i),n=m(i,"UL",{});var u=v(n);for(let t=0;t<c.length;t+=1)c[t].l(u);u.forEach($),i.forEach($),o.forEach($),this.h()},h(){w(a,"class","col"),w(t,"id","archive")},m(e,o){b(e,t,o),I(t,a),I(a,s),I(s,l),I(a,r),I(a,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null)},p(e,t){if(1&t){let a;for(o=e[0],a=0;a<o.length;a+=1){const s=pe(e,o,a);c[a]?c[a].p(s,t):(c[a]=ve(s),c[a].c(),c[a].m(n,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=o.length}},d(e){e&&$(t),k(c,e)}}}function ve(e){let t,a,s,l,r,n,o,c=e[1]+"",i=e[2]+"";return{c(){t=f("li"),a=f("a"),s=d("#"),l=d(c),r=d(": "),n=d(i),this.h()},l(e){t=m(e,"LI",{});var o=v(t);a=m(o,"A",{href:!0});var h=v(a);s=g(h,"#"),l=g(h,c),r=g(h,": "),n=g(h,i),h.forEach($),o.forEach($),this.h()},h(){w(a,"href",o="/contests/"+e[1])},m(e,o){b(e,t,o),I(t,a),I(a,s),I(a,l),I(a,r),I(a,n)},p(e,t){1&t&&c!==(c=e[1]+"")&&x(l,c),1&t&&i!==(i=e[2]+"")&&x(n,i),1&t&&o!==(o="/contests/"+e[1])&&w(a,"href",o)},d(e){e&&$(t)}}}function ge(e){let t,a=e[0].length&&me(e);return{c(){a&&a.c(),t=A()},l(e){a&&a.l(e),t=A()},m(e,s){a&&a.m(e,s),b(e,t,s)},p(e,[s]){e[0].length?a?a.p(e,s):(a=me(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:y,o:y,d(e){a&&a.d(e),e&&$(t)}}}function $e(e,t,a){let{data:s}=t;return e.$$set=e=>{"data"in e&&a(0,s=e.data)},[s]}class Ee extends i{constructor(e){super(),h(this,e,$e,ge,u,{data:0})}}function we(e,t,a){const s=e.slice();return s[2]=t[a].value,s}function be(e){let t,a,s=e[2]+"";return{c(){t=f("p"),a=d(s)},l(e){t=m(e,"P",{});var l=v(t);a=g(l,s),l.forEach($)},m(e,s){b(e,t,s),I(t,a)},p(e,t){2&t&&s!==(s=e[2]+"")&&x(a,s)},d(e){e&&$(t)}}}function Ie(e){let t,a,s,l,r,n,o,c,i,h,u,j,P,A,D,T,N=e[1],_=[];for(let f=0;f<N.length;f+=1)_[f]=be(we(e,N,f));return{c(){t=f("section"),a=f("div"),s=f("p"),l=d("Why are we doing this?"),r=p(),n=f("p"),o=f("strong"),c=d("TLDR:"),i=p(),h=d(e[0]),u=p(),j=f("details"),P=f("summary"),A=d("And if you want, hereâ€™s the long version"),D=p(),T=f("span");for(let e=0;e<_.length;e+=1)_[e].c();this.h()},l(f){t=m(f,"SECTION",{class:!0});var d=v(t);a=m(d,"DIV",{class:!0});var p=v(a);s=m(p,"P",{});var w=v(s);l=g(w,"Why are we doing this?"),w.forEach($),r=E(p),n=m(p,"P",{class:!0});var b=v(n);o=m(b,"STRONG",{});var I=v(o);c=g(I,"TLDR:"),I.forEach($),i=E(b),h=g(b,e[0]),b.forEach($),u=E(p),j=m(p,"DETAILS",{class:!0});var y=v(j);P=m(y,"SUMMARY",{});var x=v(P);A=g(x,"And if you want, hereâ€™s the long version"),x.forEach($),D=E(y),T=m(y,"SPAN",{});var k=v(T);for(let e=0;e<_.length;e+=1)_[e].l(k);k.forEach($),y.forEach($),p.forEach($),d.forEach($),this.h()},h(){w(n,"class","sm"),w(j,"class","sm"),w(a,"class","col"),w(t,"class","svelte-bee32q")},m(e,f){b(e,t,f),I(t,a),I(a,s),I(s,l),I(a,r),I(a,n),I(n,o),I(o,c),I(n,i),I(n,h),I(a,u),I(a,j),I(j,P),I(P,A),I(j,D),I(j,T);for(let t=0;t<_.length;t+=1)_[t].m(T,null)},p(e,[t]){if(1&t&&x(h,e[0]),2&t){let a;for(N=e[1],a=0;a<N.length;a+=1){const s=we(e,N,a);_[a]?_[a].p(s,t):(_[a]=be(s),_[a].c(),_[a].m(T,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=N.length}},i:y,o:y,d(e){e&&$(t),k(_,e)}}}function ye(e,t,a){let{tldr:s}=t,{full:l}=t;return e.$$set=e=>{"tldr"in e&&a(0,s=e.tldr),"full"in e&&a(1,l=e.full)},[s,l]}class xe extends i{constructor(e){super(),h(this,e,ye,Ie,u,{tldr:0,full:1})}}function je(e,t,a){const s=e.slice();return s[5]=t[a],s}function Pe(e,t,a){const s=e.slice();return s[8]=t[a].hed,s[2]=t[a].url,s[9]=t[a].image,s}function ke(e){let t,a,s,l,r,n,o,c,i,h=e[8]+"";return{c(){t=f("div"),a=f("a"),s=f("img"),r=p(),n=f("span"),o=d(h),i=p(),this.h()},l(e){t=m(e,"DIV",{class:!0});var l=v(t);a=m(l,"A",{href:!0,class:!0});var c=v(a);s=m(c,"IMG",{src:!0,alt:!0}),r=E(c),n=m(c,"SPAN",{class:!0});var u=v(n);o=g(u,h),u.forEach($),c.forEach($),i=E(l),l.forEach($),this.h()},h(){s.src!==(l="https://pudding.cool/common/assets/thumbnails/640/"+e[9]+".jpg")&&w(s,"src",l),w(s,"alt","thumbnail"),w(n,"class","svelte-18aaux7"),w(a,"href",c="https://pudding.cool/"+e[2]),w(a,"class","svelte-18aaux7"),w(t,"class","story svelte-18aaux7")},m(e,l){b(e,t,l),I(t,a),I(a,s),I(a,r),I(a,n),I(n,o),I(t,i)},p(e,t){1&t&&s.src!==(l="https://pudding.cool/common/assets/thumbnails/640/"+e[9]+".jpg")&&w(s,"src",l),1&t&&h!==(h=e[8]+"")&&x(o,h),1&t&&c!==(c="https://pudding.cool/"+e[2])&&w(a,"href",c)},d(e){e&&$(t)}}}function Ae(e){let t,a,s,l,r,n=e[5].name.toUpperCase()+"";return{c(){t=f("li"),a=f("a"),s=f("span"),l=d(n),r=p(),this.h()},l(e){t=m(e,"LI",{class:!0});var o=v(t);a=m(o,"A",{href:!0,class:!0});var c=v(a);s=m(c,"SPAN",{class:!0});var i=v(s);l=g(i,n),i.forEach($),c.forEach($),r=E(o),o.forEach($),this.h()},h(){w(s,"class","svelte-18aaux7"),w(a,"href",e[5].url),w(a,"class","svelte-18aaux7"),w(t,"class","svelte-18aaux7")},m(e,n){b(e,t,n),I(t,a),I(a,s),I(s,l),I(t,r)},p:y,d(e){e&&$(t)}}}function De(e){let t,a,s,l,r,n,o,c,i,h,u,x,j,P=e[0],A=[];for(let f=0;f<P.length;f+=1)A[f]=ke(Pe(e,P,f));let D=e[1],T=[];for(let f=0;f<D.length;f+=1)T[f]=Ae(je(e,D,f));return{c(){t=f("footer"),a=f("section");for(let e=0;e<A.length;e+=1)A[e].c();s=p(),l=f("section"),r=f("div"),n=p(),o=f("p"),c=f("a"),i=d("The Pudding"),h=d("\n      is a digital publication that explains ideas debated in culture with visual essays."),u=p(),x=f("section"),j=f("ul");for(let e=0;e<T.length;e+=1)T[e].c();this.h()},l(e){t=m(e,"FOOTER",{class:!0});var f=v(t);a=m(f,"SECTION",{class:!0});var d=v(a);for(let t=0;t<A.length;t+=1)A[t].l(d);d.forEach($),s=E(f),l=m(f,"SECTION",{class:!0});var p=v(l);r=m(p,"DIV",{class:!0}),v(r).forEach($),n=E(p),o=m(p,"P",{});var w=v(o);c=m(w,"A",{href:!0,class:!0});var b=v(c);i=g(b,"The Pudding"),b.forEach($),h=g(w,"\n      is a digital publication that explains ideas debated in culture with visual essays."),w.forEach($),p.forEach($),u=E(f),x=m(f,"SECTION",{class:!0});var I=v(x);j=m(I,"UL",{class:!0});var y=v(j);for(let t=0;t<T.length;t+=1)T[t].l(y);y.forEach($),I.forEach($),f.forEach($),this.h()},h(){w(a,"class","stories svelte-18aaux7"),w(r,"class","wordmark svelte-18aaux7"),w(c,"href","https://pudding.cool"),w(c,"class","svelte-18aaux7"),w(l,"class","about svelte-18aaux7"),w(j,"class","svelte-18aaux7"),w(x,"class","links svelte-18aaux7"),w(t,"class","svelte-18aaux7")},m(e,f){b(e,t,f),I(t,a);for(let t=0;t<A.length;t+=1)A[t].m(a,null);I(t,s),I(t,l),I(l,r),r.innerHTML=K,I(l,n),I(l,o),I(o,c),I(c,i),I(o,h),I(t,u),I(t,x),I(x,j);for(let t=0;t<T.length;t+=1)T[t].m(j,null)},p(e,[t]){if(1&t){let s;for(P=e[0],s=0;s<P.length;s+=1){const l=Pe(e,P,s);A[s]?A[s].p(l,t):(A[s]=ke(l),A[s].c(),A[s].m(a,null))}for(;s<A.length;s+=1)A[s].d(1);A.length=P.length}if(2&t){let a;for(D=e[1],a=0;a<D.length;a+=1){const s=je(e,D,a);T[a]?T[a].p(s,t):(T[a]=Ae(s),T[a].c(),T[a].m(j,null))}for(;a<T.length;a+=1)T[a].d(1);T.length=D.length}},i:y,o:y,d(e){e&&$(t),k(A,e),k(T,e)}}}function Te(e,t,a){let s,l=[];const r=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;return S((async()=>{s=window.location.href;const e=await fetch(r),t=await e.json();a(0,l=t.filter((e=>e.url!==s)).slice(0,4))})),[l,[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"http://eepurl.com/czym6f"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}],r]}class Ne extends i{constructor(e){super(),h(this,e,Te,De,u,{})}}function _e(e){let t,a,s,l,r,n,o,c,i,h;t=new Q({});const u=[e[0][0],{prompt:Y.prompt}];let f={};for(let d=0;d<u.length;d+=1)f=z(f,u[d]);return s=new de({props:f}),r=new Ee({props:{data:e[1]}}),o=new xe({props:{tldr:Y.aboutTldr,full:Y.about}}),i=new Ne({}),{c(){V(t.$$.fragment),a=p(),V(s.$$.fragment),l=p(),V(r.$$.fragment),n=p(),V(o.$$.fragment),c=p(),V(i.$$.fragment)},l(e){M(t.$$.fragment,e),a=E(e),M(s.$$.fragment,e),l=E(e),M(r.$$.fragment,e),n=E(e),M(o.$$.fragment,e),c=E(e),M(i.$$.fragment,e)},m(e,u){C(t,e,u),b(e,a,u),C(s,e,u),b(e,l,u),C(r,e,u),b(e,n,u),C(o,e,u),b(e,c,u),C(i,e,u),h=!0},p(e,[t]){const a=1&t?G(u,[1&t&&W(e[0][0]),0&t&&{prompt:Y.prompt}]):{};s.$set(a)},i(e){h||(_(t.$$.fragment,e),_(s.$$.fragment,e),_(r.$$.fragment,e),_(o.$$.fragment,e),_(i.$$.fragment,e),h=!0)},o(e){T(t.$$.fragment,e),T(s.$$.fragment,e),T(r.$$.fragment,e),T(o.$$.fragment,e),T(i.$$.fragment,e),h=!1},d(e){q(t,e),e&&$(a),q(s,e),e&&$(l),q(r,e),e&&$(n),q(o,e),e&&$(c),q(i,e)}}}function Se(e){const t=Y.contest.map(((e,t)=>c(o({},e),{attempt:t+1}))),a=t.slice(1).map((e=>({slug:e.slug,title:e.title})));return[t,a]}class Oe extends i{constructor(e){super(),h(this,e,Se,_e,u,{})}}export{Oe as A};
